'use strict';var ring=new Audio('https://a.clyp.it/j4hjat4o.mp3'),mode,timer,timeLeft,sessionLength,breakLength,sessionChanged=!1,breakChanged=!1,active=!1;function enableBtns(a){a?$('.btn-'+a).removeAttr('disabled'):$('button').removeAttr('disabled')}function disableBtns(a){a?$('.btn-'+a).attr('disabled','disabled'):$('button').attr('disabled','disabled')}function switchModes(){active=!1,clearInterval(timer),ring.play(),$('.clock').css('background','hsl(0, 100%, 0%)'),'Session Time Remaining:'===mode?($('#clockHeader').text('Break Time Remaining:'),$('#clockTime').text(breakLength),disableBtns('break'),enableBtns('session'),timeLeft=breakLength):($('#clockHeader').text('Session Time Remaining:'),$('#clockTime').text(sessionLength),disableBtns('session'),enableBtns('break'),timeLeft=sessionLength),active=!0,timer=setInterval(runTimer,1e3)}function runTimer(){mode=$('#clockHeader').text(),sessionLength=$('#sessionValue').text(),breakLength=$('#breakValue').text();var a;0<timeLeft?(timeLeft--,$('#clockTime').text(timeLeft),'Session Time Remaining:'===mode?(a=100-100*(timeLeft/sessionLength),$('.clock').css('background','hsl(0, '+a+'%, 12%)')):(a=100-100*(timeLeft/breakLength),$('.clock').css('background','hsl(110, '+a+'%, 12%)'))):switchModes()}$(document).ready(function(){$('.btn-session.btn-minus').click(function(){sessionLength=$('#sessionValue').text(),1<sessionLength&&(sessionLength--,sessionChanged=!0,$('#sessionValue').text(sessionLength))}),$('.btn-session.btn-plus').click(function(){sessionLength=$('#sessionValue').text(),99>sessionLength&&(sessionLength++,sessionChanged=!0,$('#sessionValue').text(sessionLength))}),$('.btn-break.btn-minus').click(function(){breakLength=$('#breakValue').text(),1<breakLength&&(breakLength--,breakChanged=!0,$('#breakValue').text(breakLength))}),$('.btn-break.btn-plus').click(function(){breakLength=$('#breakValue').text(),99>breakLength&&(breakLength++,breakChanged=!0,$('#breakValue').text(breakLength))}),$('.clock').click(function(){mode=$('#clockHeader').text(),timeLeft=$('#clockTime').text(),sessionLength=$('#sessionValue').text(),breakLength=$('#breakValue').text(),active?(active=!1,enableBtns(),clearInterval(timer)):('Session Time Remaining:'===mode?(sessionChanged&&(sessionChanged=!1,$('#clockTime').text(sessionLength),timeLeft=sessionLength),disableBtns('session')):(breakChanged&&(breakChanged=!1,$('#clockTime').text(breakLength),timeLeft=breakLength),disableBtns('break')),active=!0,timer=setInterval(runTimer,1e3))})});
